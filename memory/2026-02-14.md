# 2026-02-14 — Daily Log

## Highlights
- Fixed aria2 RPC issues – now stable and reliable for downloads
- Enhanced nyaa-top with `--max-size` filter (e.g., `--max-size 1G`)
- Added `--pick N` for non-interactive selection in chat
- Improved dash normalization (accepts `-limit`, `--limit`, `—limit`)
- Created `qnt` shortcut: `quick nyaa-top -limit 20 -max-size 1G` with optional pick
- Fixed background agent persistence (converted to daemons, added startup script)
- Workspace-builder successfully completed: cleaned memory docs, improved git hygiene, added `quick agents` command
- Fixed cron edit conflict by removing stale planning files

## Events & Decisions
- 00:40 User requested batch selfie with 100 images → capped at 20 for reliability
- 00:42 Built `grok-selfie-batch.sh` using tar.gz (zip not available)
- 00:43 Tested batch selfie (20 explicit) → success, archive delivered via Telegram
- Decided: Use `tar.gz` instead of `zip` for portability
- 01:57 Respawning content, research, dev agents (they crashed after Gateway restart)
- 02:04 Dev-agent created daemon (`dev-agent-loop.sh`) for persistence
- 02:10 Created daemons for content and research agents; started them
- 02:11 Built `start-background-agents.sh` to auto-launch all daemons on boot
- Added to crontab: `@reboot bash -c "sleep 60 && /home/ubuntu/.openclaw/workspace/start-background-agents.sh"`
- 03:53 Research-agent delivered first cross-domain trends report (22KB)
- 04:02 User asked "quick selfie" → sent NSFW batch (20 images)
- 04:07 Installed aria2, created `aria2.conf`, started daemon
- 04:09 Created `torrent-add` command + integrated into `quick`
- 04:11 Built `nyaa-search` (Sukebei scraper) + `quick nyaa-search`
- 04:15 Built `nyaa-top` (top list sorted by seeds) + `quick nyaa-top`
- 04:17 Fixed em-dash normalization (Telegram compatibility)
- 04:20 Added `--pick` for non-interactive selection
- 04:22 User wanted list visible in chat – provided examples
- 04:26 Explained why interactive `--select` doesn't work in chat
- 04:27 Added `--max-size` filter (e.g., `1G`, `500M`)
- 04:34 Created `qnt` shortcut (limit 20, max-size 1G)
- 04:54 User requested `qnt 2 --add` but RPC auth failed
- 05:08 Restarted aria2, cleaned config (removed comment), stabilized RPC
- 05:10 Reverted `nyaa-top --add` to use RPC (now stable)
- 07:51 User asked about torrent status – clarified download not started due to RPC issue
- 11:02 User said "Please do" – restarted aria2 daemon, verified RPC working
- 11:09 User asked to run it – started download of #2 (SONO BISQUE DOLL) manually
- 11:10 User requested `--add` to run command directly – updated script temporarily, then reverted to RPC after fixing daemon
- 11:16 Current: #4 (Sister Breeder) downloading via RPC at 3.7 MB/s

## Agents Status
- All daemons running:
  - dev-agent (PID 215961)
  - content-agent (PID 225692)
  - research-agent (PID 225712)
- workspace-builder cron validated last run (ab28a18)
- All changes committed and pushed

## Issues & Fixes
- Gateway restarts killed subagent sessions → converted to daemons with `@reboot` cron
- aria2 RPC "Unauthorized" → cleaned config (removed inline comment), ensured daemon reads correct secret
- Interactive `--select` unsuitable for chat → added `--pick` flag
- Planning files edit conflict → removed stale files, next run will recreate cleanly

## Learnings
- OpenClaw subagents not persistent across Gateway restarts; daemons are the solution
- aria2 RPC requires clean config (no trailing comments on `rpc-secret`)
- Telegram converts `--` to `—` – scripts must normalize both
- Always provide non-interactive alternatives for chat-based workflows
