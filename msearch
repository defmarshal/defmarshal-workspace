#!/usr/bin/env bash
# Simple text-based memory search (no API, no rate limits)

QUERY="$1"
if [ -z "$QUERY" ]; then
  echo "Usage: $0 <query>"
  exit 1
fi

# Use ripgrep if available; fallback to grep
if command -v rg &>/dev/null; then
  rg --line-number --no-heading --color never "$QUERY" MEMORY.md memory/*.md
else
  grep -r -n --include=MEMORY.md --include="memory/*.md" "$QUERY" .
fi
