# Idea Pipeline

This directory contains the autonomous **Idea Generator** and **Idea Executor** agents that continuously propose and implement improvements to the workspace.

## Overview

- **Idea Generator** runs every 6 hours (UTC) and produces 10 creative ideas for workspace enhancements.
- **Idea Executor** runs every 2 hours (UTC) and executes the first pending idea from the queue.
- Ideas are stored as JSON with status tracking and execution logs.

## Directory Structure

```
agents/ideas/
├── latest.json              # Current batch of ideas (generated by generator)
├── status.json              # Generator/executor status (idle, generating, executing)
├── ideas_YYYY-MM-DD_HHMM.json   # Historical idea batches (archived)
├── exec-<slug>-<timestamp>.log  # Executor logs for each idea attempt
└── README.md                # This file
```

## Monitoring

```bash
# Check generator/executor status
./quick ideas-status

# Or directly view status file
cat agents/ideas/status.json
```

The `status.json` indicates:
- `generator`: `idle`, `generating`, or error info
- `executor`: `idle`, `executing`, or error info
- `lastRun`: timestamps of most recent activities

## Manual Execution

```bash
# Force generate a new batch of ideas (bypasses schedule)
./quick ideas-generate

# Execute the next pending idea manually
./quick ideas-execute
```

These commands are useful for testing or if the automated cycles are delayed.

## Validation Rules

Ideas are validated before execution to prevent noisy or trivial commits. An idea is **rejected** if:

- Only modifies the `quick` launcher without touching substantive source files (`sh, md, ts, js, json, yml, yaml, py, rb, go, rs, c, cpp, h, txt, html, css`)
- Makes ≤5 insertions/deletions total (i.e., too small to be meaningful)
- Fails to produce a commit that matches the idea's slug/title
- Results in an empty commit

Validated ideas are committed with the `build:` prefix and pushed to origin.

## Logs

Executor logs are stored as `agents/ideas/exec-<slug>-<timestamp>.log`. These contain detailed output from each execution attempt and are useful for debugging failed runs.

## Quick Reference (quick commands)

- `ideas-status` – Show current generator/executor status
- `ideas-generate` – Manually trigger idea generation
- `ideas-execute` – Manually trigger next idea execution

## Notes

- The generator scans the workspace for TODO/FIXME comments, stale files, and patterns to produce actionable ideas.
- The executor picks the first idea with status `new` and marks it `in-progress`.
- After execution, the idea status is updated to `done` (success) or `failed` (with error).
- All changes are automatically committed and pushed; no manual intervention needed.
